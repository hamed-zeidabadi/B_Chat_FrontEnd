(this.webpackJsonpchatapp=this.webpackJsonpchatapp||[]).push([[0],{101:function(e,t){},106:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(6),s=a.n(r),o=(a(58),a(59),a(3)),l=a(49),i=a.n(l),m=a(17),u=a(7),p=a(10),d=function(e){var t=e.usernames,r=e.num,s=Object(n.useState)([]),l=Object(o.a)(s,2),i=l[0],m=l[1];return Object(n.useEffect)((function(){console.log("CDU SideBar"),m(t),console.log("allusers :",t)}),[t]),c.a.createElement("div",{className:"sidebar ",id:"scrollbar"},c.a.createElement("div",{className:" sidebar_input "},c.a.createElement("input",{type:"text",name:"search",id:"search",className:" sidebar_input_item rounded ",autoComplete:"none",autoCorrect:"none",placeholder:"   \u062c\u0633\u062a \u0648 \u062c\u0648 ...  "})),i?i.map((function(e){return c.a.createElement("div",{className:" sidebar_user"},c.a.createElement("div",{className:"sidebar_user_item"},c.a.createElement("img",{className:"sidebar_user_item_img rounded-circle",src:a(32)("./avatar".concat(r,".png")),alt:"avatar user"}),c.a.createElement("p",{className:"sidebar_user_item_name"},e)))})):null)},g=a(52),f=a(27),E=a.n(f),v=a(9),b=a.n(v),h=function(e){var t=e.user,r=e.num,s=(e.massage,b()("http://localhost:5000/")),l=Object(n.useState)([]),i=Object(o.a)(l,2),m=i[0],u=i[1];return Object(n.useEffect)((function(){console.log("CDU SEND CHAT"),s.on("getMsg",(function(e){var a=e.filter((function(e){return e.user!==t}));u(a)}))}),[]),c.a.createElement(c.a.Fragment,null,0!==m.length?m.map((function(e){return c.a.createElement("div",{className:"chatbox_msg"},c.a.createElement("img",{src:a(32)("./avatar".concat(r,".png")),alt:"avatar for user"}),c.a.createElement("p",{className:"chatbox_msg_p1"},e.user),c.a.createElement("div",{className:"chatbox_msg_content"},c.a.createElement("p",{className:"chatbox_msg_p2"},e.msg)))})):c.a.createElement("div",{className:"chatbox_msg"},c.a.createElement("div",{className:"chatbox_msg_content"},c.a.createElement("p",{className:"chatbox_msg_p2"}," \u0635\u0646\u062f\u0648\u0642 \u067e\u06cc\u0627\u0645 \u062e\u0627\u0644\u06cc \u0627\u0633\u062a ! "))))},_=function(e){var t=e.massage;return c.a.createElement(c.a.Fragment,null,t?t.map((function(e){return c.a.createElement("div",{className:"chatbox_text"},c.a.createElement("div",{className:"chatbox_text_content"},c.a.createElement("p",null,e)))})):null)},N=function(e){var t=e.username,a=e.num,r=b()("http://localhost:5000/"),s=Object(n.useState)(""),l=Object(o.a)(s,2),i=l[0],u=l[1],p=Object(n.useState)([]),d=Object(o.a)(p,2),f=d[0],E=d[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"chatbox ",id:"scrollbar"},c.a.createElement(h,{user:t,num:a,massage:f}),_?c.a.createElement(_,{massage:f}):null),c.a.createElement("div",{className:"chatbox_input"},c.a.createElement(m.b,{className:"chatbox_input_icon",onClick:function(e){if(0!==i.trim())return r.emit("sendMsg",{massage:i,username:t}),u(""),E([].concat(Object(g.a)(f),[i]))}}),c.a.createElement("input",{className:"chatbox_input_element",type:"text",onChange:function(e){return u(e.target.value)},value:i})))},x=function(e){var t=e.username,a=e.num,r=b()("http://localhost:5000/"),s=Object(u.d)(),l=t&&0!==t.trim()?t:"\u0645\u0647\u0645\u0627\u0646",i=Object(n.useState)([]),m=Object(o.a)(i,2),p=m[0],g=m[1];return Object(n.useEffect)((function(){return console.log("CDU 1"),r.emit("join",l),r.on("join",(function(e){s.show(c.a.createElement("div",{style:{textAlign:"center",width:"90%"}},e),{type:"success"})})),r.on("message",(function(e){s.show(c.a.createElement("div",{style:{textAlign:"center",width:"90%"}},e),{type:"info"})})),r.on("allUser",(function(e){g(e)})),function(){r.emit("disconnect"),r.off()}}),[]),c.a.createElement("div",{className:"container-fluid main "},c.a.createElement("div",{className:"home row "},c.a.createElement("div",{className:"col-3 "},c.a.createElement(d,{usernames:p,num:a})),c.a.createElement("div",{className:"col-9 "},c.a.createElement(N,{username:l,num:a}))))},O=a(1),j=E.a.random(1,8),w=function(){var e=Object(O.g)(),t=Object(u.d)(),a=Object(n.useState)(""),r=Object(o.a)(a,2),s=r[0],l=r[1],d=Object(n.useState)(!1),g=Object(o.a)(d,2),f=g[0],E=g[1],v=Object(n.useState)(1),b=Object(o.a)(v,2),h=(b[0],b[1],function(t){t.preventDefalut(),e.replace("/home")});return c.a.createElement(c.a.Fragment,null,f?c.a.createElement(x,{username:s,num:j}):f?null:c.a.createElement("div",{className:"login"},c.a.createElement("div",{className:"login_items"},c.a.createElement("img",{src:i.a,alt:"log B chat",className:"login_items_logo"}),c.a.createElement("p",{className:"login_items_desc"},"\u0628\u0647 '\u0628\u06cc \u0686\u062a' \u062e\u0648\u0634 \u0622\u0645\u062f\u06cc\u062f\u060c \u0644\u0637\u0641\u0627 \u06cc\u06a9 \u0646\u0627\u0645 \u06a9\u0627\u0631\u0628\u0631\u06cc \u062d\u062f\u0627\u0642\u0644 4 \u06a9\u0644\u0645\u0647\u200c\u0627\u06cc \u0628\u0631\u0627\u06cc \u062e\u0648\u062f \u0627\u0646\u062a\u062e\u0627\u0628 \u06a9\u0646\u06cc\u062f ."),c.a.createElement("div",{className:"login_items_inputUser"},c.a.createElement("label",{htmlFor:"username"}," \u0646\u0627\u0645 \u06a9\u0627\u0631\u0628\u0631\u06cc :"),c.a.createElement("input",{autoCorrect:"none",required:!0,type:"text",name:"username",id:"username",onChange:function(e){return l(e.target.value.trim().toString())}}),s.length>=6?c.a.createElement(m.a,{className:"login_icon"}):null),c.a.createElement(p.b,{to:f?function(e){return h}:""},c.a.createElement("input",{type:"submit",className:"login_items_btn",value:"\u0648\u0631\u0648\u062f",onClick:function(){if(s.trim()<=3||s.length<=3)return t.show(c.a.createElement("div",{style:{textAlign:"center",width:"90%"}},"\u0646\u0627\u0645 \u06a9\u0627\u0631\u0628\u0631\u06cc \u062d\u062f\u0627\u0642\u0644 \u0628\u0627\u06cc\u062f 4 \u062d\u0631\u0641 \u0628\u0627\u0634\u062f ."," "),{type:"error"});t.show(c.a.createElement("div",{style:{textAlign:"center",width:"90%"}},"\u062b\u0628\u062a \u0646\u0627\u0645 \u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u0627\u0646\u062c\u0627\u0645 \u0634\u062f"),{type:"success"}),setTimeout((function(){E(!0)}),2500)}})))))},y=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(p.a,null,c.a.createElement(O.d,null,c.a.createElement(O.b,{component:x,path:"/chat"}),c.a.createElement(O.b,{component:w,path:"",exact:!0}),c.a.createElement(O.a,{to:""}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var C=a(51),S={position:u.b.TOP_CENTER,timeout:5e3,offset:"40px",transition:u.c.SCALE},k=function(){return c.a.createElement(u.a,Object.assign({template:C.a},S),c.a.createElement(c.a.StrictMode,null,c.a.createElement(y,null)))};s.a.render(c.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},32:function(e,t,a){var n={"./avatar1.png":62,"./avatar2.png":63,"./avatar3.png":64,"./avatar4.png":65,"./avatar5.png":66,"./avatar6.png":67,"./avatar7.png":68,"./avatar8.png":69};function c(e){var t=r(e);return a(t)}function r(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}c.keys=function(){return Object.keys(n)},c.resolve=r,e.exports=c,c.id=32},49:function(e,t,a){e.exports=a.p+"static/media/logo.4886dbd3.png"},53:function(e,t,a){e.exports=a(106)},58:function(e,t,a){},59:function(e,t,a){},62:function(e,t,a){e.exports=a.p+"static/media/avatar1.c75cdfec.png"},63:function(e,t,a){e.exports=a.p+"static/media/avatar2.82ab1f01.png"},64:function(e,t,a){e.exports=a.p+"static/media/avatar3.82ab1f01.png"},65:function(e,t,a){e.exports=a.p+"static/media/avatar4.c91f937b.png"},66:function(e,t,a){e.exports=a.p+"static/media/avatar5.c7771f76.png"},67:function(e,t,a){e.exports=a.p+"static/media/avatar6.de78abc4.png"},68:function(e,t,a){e.exports=a.p+"static/media/avatar7.994adf5e.png"},69:function(e,t,a){e.exports=a.p+"static/media/avatar8.d899af10.png"}},[[53,1,2]]]);
//# sourceMappingURL=main.d19230af.chunk.js.map